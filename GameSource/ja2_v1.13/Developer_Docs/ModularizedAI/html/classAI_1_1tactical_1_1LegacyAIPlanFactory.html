<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Jagged Alliance 2 Modularized AI: AI::tactical::LegacyAIPlanFactory Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Jagged Alliance 2 Modularized AI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAI.html">AI</a></li><li class="navelem"><a class="el" href="namespaceAI_1_1tactical.html">tactical</a></li><li class="navelem"><a class="el" href="classAI_1_1tactical_1_1LegacyAIPlanFactory.html">LegacyAIPlanFactory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classAI_1_1tactical_1_1LegacyAIPlanFactory-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AI::tactical::LegacyAIPlanFactory Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Concrete Factory. Generates the appropriate <a class="el" href="classAI_1_1tactical_1_1LegacyAIPlan.html" title="Component/Concrete Product. Wrapper/Re-Write of DecideAction()">LegacyAIPlan</a>, making NPCs do exactly what it did before this <a class="el" href="namespaceAI.html">AI</a> modularization/re-write.  
 <a href="classAI_1_1tactical_1_1LegacyAIPlanFactory.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="LegacyAIPlanFactory_8h_source.html">LegacyAIPlanFactory.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AI::tactical::LegacyAIPlanFactory:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classAI_1_1tactical_1_1LegacyAIPlanFactory.png" usemap="#AI::tactical::LegacyAIPlanFactory_map" alt=""/>
  <map id="AI::tactical::LegacyAIPlanFactory_map" name="AI::tactical::LegacyAIPlanFactory_map">
<area href="classAI_1_1tactical_1_1AbstractPlanFactory.html" title="Abstract Factory. Base class for all plan factories." alt="AI::tactical::AbstractPlanFactory" shape="rect" coords="0,0,199,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad7bc3453dea12ab0435f02e7efefa3a5"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classAI_1_1tactical_1_1Plan.html">Plan</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAI_1_1tactical_1_1LegacyAIPlanFactory.html#ad7bc3453dea12ab0435f02e7efefa3a5">create_plan</a> (SOLDIERTYPE *npc, const <a class="el" href="classAI_1_1tactical_1_1AIInputData.html">AIInputData</a> &amp;input)</td></tr>
<tr class="memdesc:ad7bc3453dea12ab0435f02e7efefa3a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract <a class="el" href="classAI_1_1tactical_1_1Plan.html" title="Composite/Abstract Product. Base class for all plan compositions and components.">Plan</a> object hierarchy creation function.  <a href="#ad7bc3453dea12ab0435f02e7efefa3a5"></a><br/></td></tr>
<tr class="memitem:ae5d00447ba7719451817728db3fa210c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAI_1_1tactical_1_1LegacyAIPlanFactory.html#ae5d00447ba7719451817728db3fa210c">update_plan</a> (SOLDIERTYPE *npc, const <a class="el" href="classAI_1_1tactical_1_1AIInputData.html">AIInputData</a> &amp;input)</td></tr>
<tr class="memdesc:ae5d00447ba7719451817728db3fa210c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract <a class="el" href="classAI_1_1tactical_1_1Plan.html" title="Composite/Abstract Product. Base class for all plan compositions and components.">Plan</a> object hierarchy update function, called in order to update an already created plan.  <a href="#ae5d00447ba7719451817728db3fa210c"></a><br/></td></tr>
<tr class="memitem:a394c5ff1f19d4b6bf212af783a8d9232"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAI_1_1tactical_1_1AbstractPlanFactory.html#a394c5ff1f19d4b6bf212af783a8d9232">initialize_called</a> () const </td></tr>
<tr class="memitem:aec4218f608ffad3c7db6610c36025c0f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAI_1_1tactical_1_1AbstractPlanFactory.html#aec4218f608ffad3c7db6610c36025c0f">initialize</a> ()</td></tr>
<tr class="memdesc:aec4218f608ffad3c7db6610c36025c0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for delayed initialization of ressource-intensive initialization tasks.  <a href="#aec4218f608ffad3c7db6610c36025c0f"></a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae1ac91a07a87819a802bf6f5501ebabf"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAI_1_1tactical_1_1LegacyAIPlanFactory.html#ae1ac91a07a87819a802bf6f5501ebabf">get_name</a> ()</td></tr>
<tr class="memdesc:ae1ac91a07a87819a802bf6f5501ebabf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name is required for registration in the <a class="el" href="classAI_1_1tactical_1_1PlanFactoryLibrary.html" title="Singleton. A &quot;library&quot; containing all available PlanFactories, accessible via the strings returned by...">PlanFactoryLibrary</a>.  <a href="#ae1ac91a07a87819a802bf6f5501ebabf"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Concrete Factory. Generates the appropriate <a class="el" href="classAI_1_1tactical_1_1LegacyAIPlan.html" title="Component/Concrete Product. Wrapper/Re-Write of DecideAction()">LegacyAIPlan</a>, making NPCs do exactly what it did before this <a class="el" href="namespaceAI.html">AI</a> modularization/re-write. </p>
<p>Currently, the factory handles the "outermost" layer of selection statements by instantiating plans that will call <a class="el" href="LegacyCreaturePlan_8cpp.html#aabaf998879709c5276c3af8c6dda53f0">CreatureDecideAction()</a>, <a class="el" href="LegacyZombiePlan_8cpp.html#a603b1311227fdc5a52ce6472112e82aa">ZombieDecideAction()</a> or DecideAction(), respectively. This is not the intended use of factories, but for the time of the <a class="el" href="namespaceAI.html">AI</a> redesign a necessity nonetheless. </p>
</div><h2>Member Function Documentation</h2>
<a class="anchor" id="ad7bc3453dea12ab0435f02e7efefa3a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classAI_1_1tactical_1_1Plan.html">Plan</a> * AI::tactical::LegacyAIPlanFactory::create_plan </td>
          <td>(</td>
          <td class="paramtype">SOLDIERTYPE *&#160;</td>
          <td class="paramname"><em>npc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAI_1_1tactical_1_1AIInputData.html">AIInputData</a> &amp;&#160;</td>
          <td class="paramname"><em>input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Abstract <a class="el" href="classAI_1_1tactical_1_1Plan.html" title="Composite/Abstract Product. Base class for all plan compositions and components.">Plan</a> object hierarchy creation function. </p>
<p>The subclasses (i.e., Concrete Factories) implpmenting this routine contain the decision-making <a class="el" href="namespaceAI.html">AI</a> core.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">npc</td><td>The NPC the plan is for </td></tr>
    <tr><td class="paramname">input</td><td>A reference to a structure containing all required input data in order for the <a class="el" href="namespaceAI.html">AI</a> algorithms to perform their task. At the moment, empty. Future versions might require other datatypes; without the wrapper, <em>every</em> Concrete Factory ever created would need to be changed in this event. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="classAI_1_1tactical_1_1Plan.html" title="Composite/Abstract Product. Base class for all plan compositions and components.">Plan</a> object tree representing the produced strategy </dd></dl>

<p>Implements <a class="el" href="classAI_1_1tactical_1_1AbstractPlanFactory.html#af8f84091214736545c30138a7fdf3412">AI::tactical::AbstractPlanFactory</a>.</p>

</div>
</div>
<a class="anchor" id="ae1ac91a07a87819a802bf6f5501ebabf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::string AI::tactical::LegacyAIPlanFactory::get_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The name is required for registration in the <a class="el" href="classAI_1_1tactical_1_1PlanFactoryLibrary.html" title="Singleton. A &quot;library&quot; containing all available PlanFactories, accessible via the strings returned by...">PlanFactoryLibrary</a>. </p>

</div>
</div>
<a class="anchor" id="aec4218f608ffad3c7db6610c36025c0f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void AI::tactical::AbstractPlanFactory::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used for delayed initialization of ressource-intensive initialization tasks. </p>
<p>Due to the design of the modularized <a class="el" href="namespaceAI.html">AI</a>, each factory's constructor must be called, even if the factory is not used. Therefore, memory- and cpu intensive tasks should not be performed in the constructor, but in this function instead. It will only be called if the factory is actually referenced in the AI.ini file. </p>

</div>
</div>
<a class="anchor" id="a394c5ff1f19d4b6bf212af783a8d9232"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool AI::tactical::AbstractPlanFactory::initialize_called </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae5d00447ba7719451817728db3fa210c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AI::tactical::LegacyAIPlanFactory::update_plan </td>
          <td>(</td>
          <td class="paramtype">SOLDIERTYPE *&#160;</td>
          <td class="paramname"><em>npc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classAI_1_1tactical_1_1AIInputData.html">AIInputData</a> &amp;&#160;</td>
          <td class="paramname"><em>input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Abstract <a class="el" href="classAI_1_1tactical_1_1Plan.html" title="Composite/Abstract Product. Base class for all plan compositions and components.">Plan</a> object hierarchy update function, called in order to update an already created plan. </p>
<p>If no plan exists, it is created; this should not be the general case, but might happen for 'interrupted' NPCs that haven't had the chance to plan yet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">npc</td><td>A pointer to the npc owning the ai_masterplan_ to be changed. </td></tr>
    <tr><td class="paramname">input</td><td>A reference to a structure containing all required input data in order for the <a class="el" href="namespaceAI.html">AI</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section post"><dt>Postcondition</dt><dd>npc-&gt;ai_masterplan_ is not null </dd></dl>

<p>Implements <a class="el" href="classAI_1_1tactical_1_1AbstractPlanFactory.html#a267ce6079091e47139506e2287a9533c">AI::tactical::AbstractPlanFactory</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="LegacyAIPlanFactory_8h_source.html">LegacyAIPlanFactory.h</a></li>
<li>src/<a class="el" href="LegacyAIPlanFactory_8cpp.html">LegacyAIPlanFactory.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 18 2013 20:24:52 for Jagged Alliance 2 Modularized AI by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
